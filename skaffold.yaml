apiVersion: skaffold/v4beta12
kind: Config
metadata:
  name: semaphore
build:
  artifacts:
    - image: ghcr.io/semaphoreio/auth
      context: auth
deploy:
  helm:
    releases:
      - name: semaphore
        chartPath: helm-chart
        valuesFiles:
          - helm-chart/values.yaml
        setValues:
          global.domain.name: "localhost"
          ingress.className: "traefik"
          ingress.ssl.type: "custom"
        version: 0.1.0
    flags:
      upgrade: ["--timeout", "120m"]
      install: ["--timeout", "120m"]
